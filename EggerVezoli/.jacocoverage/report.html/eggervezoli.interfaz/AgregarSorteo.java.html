<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>AgregarSorteo.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;EggerVezoli&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">eggervezoli.interfaz</a> &gt; <span class="el_source">AgregarSorteo.java</span></div><h1>AgregarSorteo.java</h1><pre class="source lang-java linenums">package eggervezoli.interfaz;

import eggervezoli.dominio.InvalidDateRangeException;
import eggervezoli.dominio.Sistema;
import eggervezoli.dominio.Sorteo;
import java.util.Date;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

public class AgregarSorteo extends javax.swing.JPanel {

    private Sistema sistema;
    private JPanel padre;

<span class="nc" id="L15">    public AgregarSorteo(JPanel padre, Sistema sistema) {</span>
<span class="nc" id="L16">        initComponents();</span>
<span class="nc" id="L17">        this.padre = padre;</span>
<span class="nc" id="L18">        this.sistema = sistema;</span>
<span class="nc" id="L19">    }</span>

    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L25">        dateChooserComboInicio = new datechooser.beans.DateChooserCombo();</span>
<span class="nc" id="L26">        dateChooserComboFin = new datechooser.beans.DateChooserCombo();</span>
<span class="nc" id="L27">        jLabel1 = new javax.swing.JLabel();</span>
<span class="nc" id="L28">        jLabel2 = new javax.swing.JLabel();</span>
<span class="nc" id="L29">        jLabel3 = new javax.swing.JLabel();</span>
<span class="nc" id="L30">        jScrollPane1 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L31">        jTextAreaDescripcion = new javax.swing.JTextArea();</span>
<span class="nc" id="L32">        jLabel4 = new javax.swing.JLabel();</span>
<span class="nc" id="L33">        jLabel5 = new javax.swing.JLabel();</span>
<span class="nc" id="L34">        jSpinnerNumeroDeGanadores = new javax.swing.JSpinner();</span>
<span class="nc" id="L35">        jButtonGuardar = new javax.swing.JButton();</span>
<span class="nc" id="L36">        jButtonCancelar = new javax.swing.JButton();</span>
<span class="nc" id="L37">        jLabelError = new javax.swing.JLabel();</span>

<span class="nc" id="L39">        setMaximumSize(new java.awt.Dimension(800, 600));</span>
<span class="nc" id="L40">        setMinimumSize(new java.awt.Dimension(800, 600));</span>
<span class="nc" id="L41">        setOpaque(false);</span>

<span class="nc" id="L43">        dateChooserComboInicio.setCurrentView(new datechooser.view.appearance.AppearancesList(&quot;Light&quot;,</span>
            new datechooser.view.appearance.ViewAppearance(&quot;custom&quot;,
                new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                    new java.awt.Color(0, 0, 0),
                    new java.awt.Color(0, 0, 255),
                    false,
                    true,
                    new datechooser.view.appearance.swing.ButtonPainter()),
                new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                    new java.awt.Color(0, 0, 0),
                    new java.awt.Color(0, 0, 255),
                    true,
                    true,
                    new datechooser.view.appearance.swing.ButtonPainter()),
                new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                    new java.awt.Color(0, 0, 255),
                    new java.awt.Color(0, 0, 255),
                    false,
                    true,
                    new datechooser.view.appearance.swing.ButtonPainter()),
                new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                    new java.awt.Color(128, 128, 128),
                    new java.awt.Color(0, 0, 255),
                    false,
                    true,
                    new datechooser.view.appearance.swing.LabelPainter()),
                new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                    new java.awt.Color(0, 0, 0),
                    new java.awt.Color(0, 0, 255),
                    false,
                    true,
                    new datechooser.view.appearance.swing.LabelPainter()),
                new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                    new java.awt.Color(0, 0, 0),
                    new java.awt.Color(255, 0, 0),
                    false,
                    false,
                    new datechooser.view.appearance.swing.ButtonPainter()),
                (datechooser.view.BackRenderer)null,
                false,
                true)));
<span class="nc" id="L84">    dateChooserComboInicio.setLocale(new java.util.Locale(&quot;es&quot;, &quot;AR&quot;, &quot;&quot;));</span>
<span class="nc" id="L85">    dateChooserComboInicio.setBehavior(datechooser.model.multiple.MultyModelBehavior.SELECT_SINGLE);</span>

<span class="nc" id="L87">    dateChooserComboFin.setCurrentView(new datechooser.view.appearance.AppearancesList(&quot;Light&quot;,</span>
        new datechooser.view.appearance.ViewAppearance(&quot;custom&quot;,
            new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                new java.awt.Color(0, 0, 0),
                new java.awt.Color(0, 0, 255),
                false,
                true,
                new datechooser.view.appearance.swing.ButtonPainter()),
            new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                new java.awt.Color(0, 0, 0),
                new java.awt.Color(0, 0, 255),
                true,
                true,
                new datechooser.view.appearance.swing.ButtonPainter()),
            new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                new java.awt.Color(0, 0, 255),
                new java.awt.Color(0, 0, 255),
                false,
                true,
                new datechooser.view.appearance.swing.ButtonPainter()),
            new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                new java.awt.Color(128, 128, 128),
                new java.awt.Color(0, 0, 255),
                false,
                true,
                new datechooser.view.appearance.swing.LabelPainter()),
            new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                new java.awt.Color(0, 0, 0),
                new java.awt.Color(0, 0, 255),
                false,
                true,
                new datechooser.view.appearance.swing.LabelPainter()),
            new datechooser.view.appearance.swing.SwingCellAppearance(new java.awt.Font(&quot;Tahoma&quot;, java.awt.Font.PLAIN, 13),
                new java.awt.Color(0, 0, 0),
                new java.awt.Color(255, 0, 0),
                false,
                false,
                new datechooser.view.appearance.swing.ButtonPainter()),
            (datechooser.view.BackRenderer)null,
            false,
            true)));
<span class="nc" id="L128">dateChooserComboFin.setLocale(new java.util.Locale(&quot;es&quot;, &quot;UY&quot;, &quot;&quot;));</span>
<span class="nc" id="L129">dateChooserComboFin.setBehavior(datechooser.model.multiple.MultyModelBehavior.SELECT_SINGLE);</span>

<span class="nc" id="L131">jLabel1.setText(&quot;Fecha de inicio&quot;);</span>

<span class="nc" id="L133">jLabel2.setText(&quot;Fecha de finalización&quot;);</span>

<span class="nc" id="L135">jLabel3.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 48)); // NOI18N</span>
<span class="nc" id="L136">jLabel3.setText(&quot;Ingresar nuevo sorteo&quot;);</span>

<span class="nc" id="L138">jTextAreaDescripcion.setColumns(20);</span>
<span class="nc" id="L139">jTextAreaDescripcion.setRows(5);</span>
<span class="nc" id="L140">jScrollPane1.setViewportView(jTextAreaDescripcion);</span>

<span class="nc" id="L142">jLabel4.setText(&quot;Descripción del premio&quot;);</span>

<span class="nc" id="L144">jLabel5.setText(&quot;Numero de ganadores&quot;);</span>

<span class="nc" id="L146">jSpinnerNumeroDeGanadores.setModel(new javax.swing.SpinnerNumberModel(Integer.valueOf(1), Integer.valueOf(1), null, Integer.valueOf(1)));</span>

<span class="nc" id="L148">jButtonGuardar.setBackground(new java.awt.Color(97, 216, 114));</span>
<span class="nc" id="L149">jButtonGuardar.setForeground(new java.awt.Color(51, 51, 51));</span>
<span class="nc" id="L150">jButtonGuardar.setText(&quot;Guardar&quot;);</span>
<span class="nc" id="L151">jButtonGuardar.addActionListener(new java.awt.event.ActionListener() {</span>
    public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L153">        jButtonGuardarActionPerformed(evt);</span>
<span class="nc" id="L154">    }</span>
    });

<span class="nc" id="L157">    jButtonCancelar.setBackground(new java.awt.Color(255, 90, 62));</span>
<span class="nc" id="L158">    jButtonCancelar.setForeground(new java.awt.Color(51, 51, 51));</span>
<span class="nc" id="L159">    jButtonCancelar.setText(&quot;Cancelar&quot;);</span>
<span class="nc" id="L160">    jButtonCancelar.addActionListener(new java.awt.event.ActionListener() {</span>
        public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L162">            jButtonCancelarActionPerformed(evt);</span>
<span class="nc" id="L163">        }</span>
    });

<span class="nc" id="L166">    jLabelError.setForeground(new java.awt.Color(255, 0, 51));</span>
<span class="nc" id="L167">    jLabelError.setMinimumSize(new java.awt.Dimension(10, 10));</span>

<span class="nc" id="L169">    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);</span>
<span class="nc" id="L170">    this.setLayout(layout);</span>
<span class="nc" id="L171">    layout.setHorizontalGroup(</span>
<span class="nc" id="L172">        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L173">        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L174">            .addGap(151, 151, 151)</span>
<span class="nc" id="L175">            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L176">                .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L177">                    .addGap(6, 6, 6)</span>
<span class="nc" id="L178">                    .addComponent(jLabel3)</span>
<span class="nc" id="L179">                    .addContainerGap(176, Short.MAX_VALUE))</span>
<span class="nc" id="L180">                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()</span>
<span class="nc" id="L181">                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)</span>
<span class="nc" id="L182">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L183">                            .addComponent(jButtonGuardar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L184">                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L185">                            .addComponent(jButtonCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L186">                        .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L187">                        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L188">                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L189">                                .addComponent(jLabel2)</span>
<span class="nc" id="L190">                                .addComponent(jLabel1)</span>
<span class="nc" id="L191">                                .addComponent(jLabel5))</span>
<span class="nc" id="L192">                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L193">                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L194">                                .addComponent(dateChooserComboInicio, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L195">                                .addComponent(dateChooserComboFin, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L196">                                .addComponent(jSpinnerNumeroDeGanadores, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))))</span>
<span class="nc" id="L197">                    .addGap(161, 161, 161))</span>
<span class="nc" id="L198">                .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L199">                    .addComponent(jLabel4)</span>
<span class="nc" id="L200">                    .addGap(0, 0, Short.MAX_VALUE))</span>
<span class="nc" id="L201">                .addComponent(jLabelError, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))</span>
    );
<span class="nc" id="L203">    layout.setVerticalGroup(</span>
<span class="nc" id="L204">        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L205">        .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L206">            .addContainerGap()</span>
<span class="nc" id="L207">            .addComponent(jLabel3)</span>
<span class="nc" id="L208">            .addGap(53, 53, 53)</span>
<span class="nc" id="L209">            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L210">                .addComponent(jLabel1)</span>
<span class="nc" id="L211">                .addComponent(dateChooserComboInicio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L212">            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L213">            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L214">                .addComponent(jLabel2)</span>
<span class="nc" id="L215">                .addComponent(dateChooserComboFin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L216">            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L217">            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L218">                .addComponent(jLabel5)</span>
<span class="nc" id="L219">                .addComponent(jSpinnerNumeroDeGanadores, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L220">            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L221">            .addComponent(jLabel4)</span>
<span class="nc" id="L222">            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L223">            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L224">            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L225">            .addComponent(jLabelError, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L226">            .addGap(18, 18, 18)</span>
<span class="nc" id="L227">            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L228">                .addComponent(jButtonCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L229">                .addComponent(jButtonGuardar, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L230">            .addContainerGap(73, Short.MAX_VALUE))</span>
    );

<span class="nc" id="L233">    jSpinnerNumeroDeGanadores.getAccessibleContext().setAccessibleName(&quot;&quot;);</span>
<span class="nc" id="L234">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void jButtonGuardarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonGuardarActionPerformed
<span class="nc" id="L237">        Date fechaInicio = dateChooserComboInicio.getCurrent().getTime();</span>
<span class="nc" id="L238">        Date fechaFin = dateChooserComboFin.getCurrent().getTime();</span>
<span class="nc" id="L239">        int numeroDeGanadores = (int) jSpinnerNumeroDeGanadores.getValue();</span>
<span class="nc" id="L240">        String premio = jTextAreaDescripcion.getText();</span>
<span class="nc bnc" id="L241" title="All 2 branches missed.">        if (!premio.isEmpty()) {</span>
            try {
<span class="nc" id="L243">                sistema.agregarSorteo(new Sorteo(premio, numeroDeGanadores, fechaInicio, fechaFin));</span>
<span class="nc" id="L244">                jLabelError.setText(&quot;&quot;);</span>
<span class="nc" id="L245">                jTextAreaDescripcion.setText(&quot;&quot;);</span>
<span class="nc" id="L246">                JOptionPane.showMessageDialog(this, &quot;El sorteo fue creado&quot;);</span>
<span class="nc" id="L247">            } catch (InvalidDateRangeException ex) {</span>
<span class="nc" id="L248">                jLabelError.setText(&quot;La fecha de inicio debe ser menor a la fecha de finalización&quot;);</span>
<span class="nc" id="L249">            }</span>
        } else {
<span class="nc" id="L251">            jLabelError.setText(&quot;El premio debe tener una descripción&quot;);</span>
        }
<span class="nc" id="L253">    }//GEN-LAST:event_jButtonGuardarActionPerformed</span>

    private void jButtonCancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelarActionPerformed
<span class="nc" id="L256">        padre.removeAll();</span>
<span class="nc" id="L257">        padre.add(new MenuPrincipal(padre, sistema));</span>
<span class="nc" id="L258">        padre.updateUI();</span>
<span class="nc" id="L259">    }//GEN-LAST:event_jButtonCancelarActionPerformed</span>


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private datechooser.beans.DateChooserCombo dateChooserComboFin;
    private datechooser.beans.DateChooserCombo dateChooserComboInicio;
    private javax.swing.JButton jButtonCancelar;
    private javax.swing.JButton jButtonGuardar;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabelError;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSpinner jSpinnerNumeroDeGanadores;
    private javax.swing.JTextArea jTextAreaDescripcion;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>